# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
# $Id$

PortSystem          1.0
PortGroup           github 1.0

name                pristine-tar
version             1.27
revision            1
categories          archivers
platforms           darwin
license             GPL-2+
maintainers         gmx.de:Torsten.Maehne openmaintainer

description         Regenerate a pristine upstream tarball from a \
                    binary delta file and a revision control checkout

long_description \
    pristine-tar can regenerate a pristine upstream tarball using only a \
    small binary delta file and a revision control checkout of the \
    upstream branch. The package also includes a pristine-gz command, \
    which can regenerate a pristine .gz file, a pristine-bz2 for \
    .bz2 files, and a pristine-xz for .xz files. The delta file is \
    designed to be checked into revision control along-side the upstream \
    branch, thus allowing Debian packages to be built entirely using \
    sources in revision control, without the need to keep copies of \
    upstream tarballs.

homepage            http://joeyh.name/code/pristine-tar/

# fetch.type          git
# git.url             https://github.com/joeyh/pristine-tar.git
# git.branch          b74af91
github.setup          joeyh pristine-tar b74af91

checksums           md5     f596b70434c27e961fe190bdc9acc4d3 \
                    sha1    b9f8d3c963a7944155ec1cce4e9c50cc13aa1d21 \
                    rmd160  22c63ddb61f05b3e7e50602c0f5b507f704e4085

depends_lib         path:bin/perl:perl5

depends_run         port:gnutar port:xdelta1 port:gzip port:bzip2 \
                    port:pbzip2 port:xz

configure.cmd       perl Makefile.PL
configure.pre_args  PREFIX=${prefix}
configure.args      INSTALLDIRS=perl TAR_PROGRAM=gnutar

